{#
    templates.admin.configuration
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    On this page the administrator can set general configuration values.

    :copyright: (c) 2007-2011 by the Inyoka Team, see AUTHORS for more details.
    :license: GNU GPL, see LICENSE for more details.
#}
{%- extends 'portal/overall.html' %}
{% from 'macros.html' import render_form %}

{% do BREADCRUMB.append('Konfiguration', href('portal', 'config'), True) %}
{% set scripts = ['portal'] %}

{% block content %}
<form enctype="multipart/form-data" action="" method="post" id="configuration">
  <h3>Allgemeine Einstellungen</h3>
  <dl>
    {{ render_form(form, ['global_message', 'blocked_hosts', 'wiki_newpage_template', 'wiki_newpage_root', 'wiki_newpage_infopage', 'license_note'], inline=true) }}
    {% if team_icon_url %}<dd><img class="admin_teamicon" src="{{ team_icon_url }}" alt="Team Icon" /></dd>{% endif %}
    <dt>{{ form.team_icon.label }}</dt>
    <dd>{{ form.team_icon }} {{ form.errors.team_icon }}</dd>
  </dl>
  <h3>Verschiedene Richtgrößen</h3>
  <dl>
    {{ render_form(form, ['max_signature_length', 'max_signature_lines'], inline=true) }}
    <dt>Maximale Avatargröße</dt>
    <dd>{{ form.max_avatar_width }} × {{ form.max_avatar_height }} Pixel und
        {{ form.max_avatar_size }} KiB (0 für unbegrenzt)
        {{ form.errors.max_avatar_height }} {{ form.errors.max_avatar_width }}
        {{ form.errors.max_avatar_size }}</dd>
    <dt>Maximale Team-Icon Größe</dt>
    <dd>{{ form.team_icon_height }} x {{ form.team_icon_width }} Pixel
        {{ form.errors.team_icon_height }} {{ form.errors.team_icon_width }}</dd>
  </dl>
  <h3>Get-Ubuntu-Link</h3>
  {{ render_form(form, ['get_ubuntu_link', 'get_ubuntu_description']) }}
  <br />
  <h3>Distributions Versionen</h3>
<table id="dv">
  <thead>
    <td>Version</td>
    <td>Name</td>
    <td>LTS</td>
    <td>Aktiv</td>
    <td>Aktuell</td>
    <td>Entwicklung</td>
    <td colspan="2"></td>
  </thead>
  <tfoot>
    <td colspan="8"><a href="#dv" name="dv-add">Hinzufügen</a></td>
  </tfoot>
  <tbody>
    {%- for version in versions -%}
    <tr id="dv-{{ version.number|e }}">
      <td name="dv-number">{{ version.number|e }}</td>
      <td name="dv-name">{{ version.name|e }}</td>
      <td name="dv-lts" class="dv-{% if version.lts == 'true' %}yes{% else %}no{% endif %}">{{ version.lts|e }}</td>
      <td name="dv-active" class="dv-{% if version.active == 'true' %}yes{% else %}no{% endif %}">{{ version.active|e }}</td>
      <td name="dv-current" class="dv-{% if version.current == 'true' %}yes{% else %}no{% endif %}">{{ version.current|e }}</td>
      <td name="dv-dev" class="dv-{% if version.dev == 'true' %}yes{% else %}no{% endif %}">{{ version.dev|e }}</td>
      <td><a href="#dv" id="dv-edit">Ändern</a></td>
      <td><a href="#dv" id="dv-delete">Löschen</a></td>
    </tr>
    {%- endfor -%}
  </tbody>
</table>
{{ form.distri_versions }}
  <p>
    <input type="submit" value="Speichern" />
  </p>
</form>
{% endblock %}
